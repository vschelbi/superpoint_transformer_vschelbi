# @package _global_

# to execute this experiment run:
# python train.py experiment=panoptic/rmit_159lvlratio_2e-1voxel_update

defaults:
  - /experiment/panoptic/rmit.yaml

logger:
  wandb:
    project: "spt_rmit"
    name: "159lvlratio_2e-1voxel_update"

trainer:
  max_epochs: 800

model:
  optimizer:
    lr: 0.05
  partitioner:
    regularization: 20
    x_weight: 0.1
    cutoff: 100

  edge_affinity_loss_lambda: 100


datamodule:
  # Instance graph parameters
  instance_k_max: 10  # maximum number of neighbors for each superpoint in the instance graph
  instance_radius: 1  # maximum distance of neighbors for each superpoint in the instance graph
  
  # point features used for the partition
  partition_hf:
    - 'intensity'
    - 'linearity'
    - 'planarity'
    - 'scattering'
    - 'verticality'
    - 'elevation'

  # point features used for training
  point_hf:
    - 'intensity'
    - 'linearity'
    - 'planarity'
    - 'scattering'
    - 'verticality'
    - 'elevation'

  # PRE TRANSFORM PARAMETERS
  voxel: 0.2 
  knn: 20  
  knn_r: 3 
  knn_step: -1  
  knn_min_search: 10  
  ground_threshold: 5 
  ground_scale: 20 
  pcp_regularization: [0.2, 0.5, 0.5]
  pcp_spatial_weight: [0.1, 0.01, 0.01]
  pcp_cutoff: [10, 30, 50]  
  pcp_k_adjacency: 10 
  pcp_w_adjacency: 1  
